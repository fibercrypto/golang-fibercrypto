version: '{build}'
clone_depth: 1

platform: x64

clone_folder: c:\gopath\src\github.com\fibercrypto\fibercryptowallet

environment:
  GOPATH: c:\gopath
  GOROOT: C:\go
  QT5_BASE_DIR: C:/Qt/5.12.5/msvc2017
  QT_DIR: C:/Qt
  QT_VERSION: 5.12.5
  QT_QMAKE_DIR: C:/Qt/5.12.5/mingw73_64/bin

install:
  - set "PATH=C:/Qt/5.12.5/mingw73_64/bin;C:\Windows\System32;C:\Windows;%PATH%"
  - set MSYSTEM=MINGW64
  - set PATH=%GOPATH%\bin;%GOROOT%\bin;%PATH%
  - echo %PATH%
  - echo %GOPATH%
  - go version
  - go env
  - bash -c "ls C:/Qt"
  - bash -c "ls C:/Qt/5.12.5/mingw73_64/bin"
  - bash -c "ls C:/Qt/5.12.5/mingw73_64"
  - bash -c "ls C:/Qt/5.12.5"
  - choco install make -y
  - make install-deps-Windows
  - make install-linters
  - make install-coveralls

test_script:
  - make build-Windows-travis
  - make test
  - make lint
  - make test-cover-travis

build: off
deploy: off
